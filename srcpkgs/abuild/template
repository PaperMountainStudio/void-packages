# Template file for 'abuild'
pkgname=abuild
version=3.7.0
revision=1
build_style=gnu-makefile
hostmakedepends="pkgconf"
makedepends="openssl-devel zlib-devel"
depends="bash fakeroot pax-utils apk-tools attr pkgconf patch lzip"
short_desc="Script to build Alpine Packages"
maintainer="Paper <paper@tilde.institute>"
license="GPL-2.0-only"
homepage="https://git.alpinelinux.org/cgit/abuild/"
distfiles="https://git.alpinelinux.org/abuild/snapshot/abuild-$version.tar.xz"
checksum=8e0524b847dab54b04f786779ae55067c14aef9c268cb85fcd969def8ff8ac25
system_groups="abuild"
make_dirs="/var/cache/distfiles 0775 root abuild"
make_check=no # expects an apk based system

pre_build() {
	vsed -i abuild.in -e 's,#!/bin/ash -e$,#!/bin/bash,'
}
